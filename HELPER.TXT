/**
 * FunctionName:    DeleteTitleAuthor
 * Description:     Deletes a title based on provided title ID
 * Input:           Expects 'titleID' parameter in GET request
 * Output:          Populates $output with status message
 */
function DeleteTitleAuthor()
{
    global $clean, $output;

    if (!isset($clean["title_id"]))
        $output["message"] = "No title ID was supplied! ";
    elseif (!isset($clean["au_id"]))
        $output["message"] = "No author ID was supplied! ";
    else {
        $query = "DELETE FROM titleauthor 
                  WHERE title_id = '" . $clean['title_id'] . "' 
                  AND au_id = '" . $clean['au_id'] . "'";
        error_log($query);
        $result = -1;

        if ($result = mySqlNonQuery(($query)) >= 0) {
            switch ($result) {
                case 0:
                    $output["message"] = "No records were deleted.";
                    error_log("No records were deleted.");
                    break;
                case 1:
                    $output["message"] = "1 record was successfully deleted.";
                    error_log("1 record was successfully deleted.");
                    break;
                default:
                    $output["message"] = "$result records were successfully deleted.";
                    error_log("$result records were successfully deleted.");
                    break;
            }
        } else {
            error_log("There was a problem with the query!");
            $output["message"] = "There was a problem with the query!";
        }
    }
}